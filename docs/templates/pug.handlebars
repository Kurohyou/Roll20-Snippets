<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="preconnect" href="https://fonts.googleapis.com"/>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="crossorigin"/>
    <link href="https://fonts.googleapis.com/css2?family=Aldrich&amp;family=Exo+2:ital,wght@0,400;0,700;1,400&amp;family=Fira+Code&amp;display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <link rel="stylesheet" href="assets/portfolio/social-icons.css"/>
    <link rel="stylesheet" href="./assets/css/clear.css"/>
    <link rel="stylesheet" href="./assets/css/generic.css"/>
    <link rel="stylesheet" href="./assets/css/prettify.css"/>
    <link rel="stylesheet" href="./assets/css/sons-of-obsidian.css"/>
    <link rel="stylesheet" href="./assets/css/codeDisplay.css"/>
    <title>K-Scaffold | PUG</title>
  </head>
  <body>
    <header>
      <h1>The K-Scaffold Framework</h1><span class="subhead">PUG, HTML, and Javascript</span>
    </header>
    <nav>
      <ul>
        <li><a href="./index.html?v=1.1">General Info</a></li>
        <li><a href="./js.html?v=1.1">Sheetworker Documentation</a></li>
      </ul>
      <ul>
        <li><a href="#intro-header">Intro</a></li>
        <li><a href="#" id="doc-link">PUG Mixins & Functions</a></li>
        <li><a href="#contact-header">Contact & Feedback</a></li>
      </ul>
    </nav>
    <main id="doc-target">
      <section aria-labelledby="intro-header">
        <h2 id="intro-header">The PUG Library</h2>
        <div class="border"></div>
        <div class="content">
          <p>The K-Scaffold's PUG library provides a collection of frequently used elements and collections of elements in Roll20 sheet development. The library's mixins also provide a link to the sheetworker library via the trigger property that can be passed to many of these mixins. The sections below give the details on how the mixins can be used and what html is generated by them.</p>
          <h3>The Trigger Object</h3>
          <p>The trigger object is a K-Scaffold specific property that can be passed to any mixin that creates a Roll20 attribute element (e.g. <a href="#input">input</a> or <a href="#span">span</a>). The trigger object creates a link between the attribute, and any attributes that are affected by it or any functions that should be called when the attribute is changed. This looks like:</p>
          <h4>pug</h4>
          <pre class="prettyprint"><code class="language-jade">+number({name:'strength',value:10,trigger:{affects:['strength_mod']}})
+number({name:'strength mod',value:0,readonly:'',trigger:{calculation:'calcStrength'}})</code></pre>
          <h4>html</h4>
          <pre class="prettyprint"><code class="language-html">&lt;number type=&quot;number&quot; name=&quot;attr_strength&quot; value=&quot;10&quot;&gt;
&lt;number type=&quot;number&quot; name=&quot;attr_strength_mod&quot; value=&quot;0&quot;&gt;</code></pre>
          <h4>sheetworker</h4>
          <pre class="prettyprint"><code class="language-js">//This function will be called whenever strength_mod is affected by another attribute. It will return the calculated value, and the K-Scaffold sheetworker framework will set the attribute to that value.
const calcStrength = function({attributes}){
  return Math.floor((attributes.strength - 10) / 2);
}
//Register the function to the K-Scaffold sheetworker framework so that it can be called by the scaffold's listeners.
k.registerFuncs({calcStrength});</code></pre>
          <p>Note that when using the K-Scaffold to drive the event handling, you only need to write your actual calculation or logic functions, not any of the sheetworker event handling. Functions called by the K-Scaffold's trigger handling should be written using the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">object descructuring pattern</a> and can have any (or all) argument of:</p>
          <ul style="display:flex;flex-direction:column;">
            <li>
              <pre class="snippet"><code>attributes</code></pre>
            </li>
            <li>
              <pre class="snippet"><code>trigger</code></pre>
            </li>
            <li>
              <pre class="snippet"><code>casc</code></pre>
            </li>
          </ul>
          <p>Because this uses the destructuring pattern, these attribute names must be named this, but can be in any order in the function declaration.</p>
        </div>
      </section>
      <span>Each starts here</span>
      {{#each docData as |doc|}}
        {{> card}}
      {{/each}}
    </main>
    <aside>
      <h2>Mixins</h2>
      <nav>
        <ul id="toc-target">
          {{#docData}}
            {{> navElement}}
          {{/docData}}
        </ul>
      </nav>
    </aside>
    <div class="footer"></div>
    <footer>
      <section class="flex flex--space-evenly" aria-label="Contact &amp; Feedback" id="contact-header"><a class="social-icon" href="https://discord.gg/vYmvFBZQsM">discord</a><a class="social-icon" href="https://www.linkedin.com/in/scott-casey-20210398/">linkedin</a><a class="social-icon" href="https://www.patreon.com/kurohyoustudios?fan_landing=true">patreon</a>
        <div class="flex flex-column"><span style="justify-self:center;">Scott Casey | Kurohyou Studios</span><span style="justify-self:center;">06/19/2022</span></div><a class="material-icons" title="Email" href="mailto:scaseydv@gmail.com?subject=Inquiring about your work">email</a><a class="social-icon" href="https://github.com/Kurohyou">github</a><a class="social-icon" href="https://twitter.com/Kurohyoustudios">twitter</a>
      </section>
    </footer>
    <script type="text/javascript">const siteVersion = 1.1;
      
    </script>
    <script src="./assets/javascript/resizer.js"></script>
    <script src="./assets/javascript/prettify.js"></script>
    <script src="./assets/javascript/parser.js"></script>
  </body>
</html>